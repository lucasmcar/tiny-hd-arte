document.addEventListener("DOMContentLoaded",function(){let t=document.getElementById("taskForm"),s=document.getElementById("taskMessage"),n=(t&&t.addEventListener("submit",function(e){e.preventDefault();e=new FormData(t);fetch("/admin/eventos-culturais/saveTarefa",{method:"POST",body:e}).then(e=>e.json()).then(e=>{e.success?(s.textContent=e.success,s.style.display="block",setTimeout(()=>{s.style.display="none",location.reload()},2e3)):(s.textContent=e.error||"Erro ao salvar a tarefa.",s.style.display="block",setTimeout(()=>{s.style.display="none"},2e3))}).catch(e=>{console.error("Erro ao salvar a tarefa:",e),s.textContent="Erro ao salvar a tarefa.",s.style.display="block",setTimeout(()=>{s.style.display="none"},2e3)})}),document.getElementById("checklistForm")),a=document.getElementById("checklistEntries");var e=document.getElementById("addChecklistEntry");let o=document.getElementById("checklistMessage"),l=(e&&e.addEventListener("click",function(){var e=a.children.length,t=document.createElement("div");t.classList.add("checklist-entry"),t.innerHTML=`
                <input type="text" name="itens[]" class="form-input" placeholder="Item do checklist" required>
                <label class="checkbox-label">
                    <input type="checkbox" name="status[${e}]">
                    Concluído
                </label>
            `,a.appendChild(t)}),n&&n.addEventListener("submit",function(e){e.preventDefault();e=new FormData(n);fetch("/admin/eventos-culturais/saveChecklist",{method:"POST",body:e}).then(e=>e.json()).then(e=>{e.success?(o.textContent=e.success,o.style.display="block",setTimeout(()=>{o.style.display="none",location.reload()},2e3)):(o.textContent=e.error||"Erro ao salvar o checklist.",o.style.display="block",setTimeout(()=>{o.style.display="none"},2e3))}).catch(e=>{console.error("Erro ao salvar o checklist:",e),o.textContent="Erro ao salvar o checklist.",o.style.display="block",setTimeout(()=>{o.style.display="none"},2e3)})}),document.getElementById("financasForm")),c=document.getElementById("financasMessage");l&&l.addEventListener("submit",function(e){e.preventDefault();e=new FormData(l);fetch("/admin/eventos-culturais/saveFinancas",{method:"POST",body:e}).then(e=>e.json()).then(e=>{e.success?(c.textContent=e.success,c.style.display="block",setTimeout(()=>{c.style.display="none",location.reload()},2e3)):(c.textContent=e.error||"Erro ao salvar as finanças.",c.style.display="block",setTimeout(()=>{c.style.display="none"},2e3))}).catch(e=>{console.error("Erro ao salvar as finanças:",e),c.textContent="Erro ao salvar as finanças.",c.style.display="block",setTimeout(()=>{c.style.display="none"},2e3)})})});