document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("participantForm");var t=document.getElementById("resetForm");let n=document.getElementById("formStatus");var a=document.querySelectorAll(".edit-btn");e.addEventListener("submit",t=>{t.preventDefault();t=new FormData(e),t=Object.fromEntries(t);fetch("/admin/participants/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>{n.textContent=t.message,t.success?setTimeout(()=>{location.reload()},1e3):setTimeout(()=>n.textContent="",3e3)})}),t.addEventListener("click",()=>{e.reset(),document.getElementById("participantId").value="",n.textContent=""}),a.forEach(e=>{e.addEventListener("click",()=>{var t=e.getAttribute("data-id");fetch("/admin/participants/get/"+t).then(t=>t.json()).then(t=>{var e;t.success?(e=t.participant,document.getElementById("participantId").value=e.id,document.getElementById("participantName").value=e.name,document.getElementById("participantType").value=e.type,document.getElementById("participantContact").value=e.contact,document.getElementById("participantEvent").value=e.event_id,document.getElementById("participantDescription").value=e.description):(n.textContent=t.message,setTimeout(()=>n.textContent="",3e3))})})})});