document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("searchInput");let a=document.getElementById("searchResults"),t=document.querySelector(".search-container");async function n(e){try{var t=await fetch("/procurar?q="+encodeURIComponent(e),{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error("Erro na busca");var n=await t.json();r=n,a.innerHTML="",0===r.length?a.style.display="none":(r.forEach(e=>{var t=document.createElement("a");t.href=e.url,t.textContent=e.title,a.appendChild(t)}),a.style.display="block")}catch(e){console.error("Erro ao buscar resultados:",e),a.innerHTML='<a href="#">Erro ao carregar resultados</a>'}var r}let r;e.addEventListener("input",function(){clearTimeout(r);let e=this.value.trim();e.length<2?a.style.display="none":r=setTimeout(()=>n(e),300)}),document.addEventListener("click",function(e){t.contains(e.target)||(a.style.display="none")})});