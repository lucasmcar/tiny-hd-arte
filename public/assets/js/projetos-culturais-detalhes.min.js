document.addEventListener("DOMContentLoaded",function(){let t=document.getElementById("statusForm"),o=document.getElementById("statusMessage"),s=(t&&t.addEventListener("submit",function(e){e.preventDefault();e=new FormData(t);fetch("/admin/projetos-culturais/updateProjectStatus",{method:"POST",body:e}).then(e=>e.json()).then(e=>{e.success?(o.textContent=e.success,o.style.display="block",setTimeout(()=>{o.style.display="none",location.reload()},2e3)):(o.textContent=e.error||"Erro ao atualizar o status.",o.style.display="block",setTimeout(()=>{o.style.display="none"},2e3))}).catch(e=>{console.error("Erro ao atualizar o status:",e),o.textContent="Erro ao atualizar o status.",o.style.display="block",setTimeout(()=>{o.style.display="none"},2e3)})}),document.getElementById("planningForm")),n=document.getElementById("planningEntries");var e=document.getElementById("addPlanningEntry");let a=document.getElementById("planningMessage"),l=(e&&e.addEventListener("click",function(){var e=document.createElement("div");e.classList.add("planning-entry"),e.innerHTML=`
                <div class="form-group">
                    <label>Etapa</label>
                    <input type="text" name="etapas[]" class="form-input" required>
                </div>
                <div class="form-group">
                    <label>Respons√°vel</label>
                    <input type="text" name="responsaveis[]" class="form-input" required>
                </div>
                <div class="form-group">
                    <label>Prazo</label>
                    <input type="date" name="prazos[]" class="form-input" required>
                </div>
            `,n.appendChild(e)}),s&&s.addEventListener("submit",function(e){e.preventDefault();e=new FormData(s);fetch("/admin/projetos-culturais/savePlanejamento",{method:"POST",body:e}).then(e=>e.json()).then(e=>{e.success?(a.textContent=e.success,a.style.display="block",setTimeout(()=>{a.style.display="none",location.reload()},2e3)):(a.textContent=e.error||"Erro ao salvar o planejamento.",a.style.display="block",setTimeout(()=>{a.style.display="none"},2e3))}).catch(e=>{console.error("Erro ao salvar o planejamento:",e),a.textContent="Erro ao salvar o planejamento.",a.style.display="block",setTimeout(()=>{a.style.display="none"},2e3)})}),document.getElementById("incentivoForm")),r=document.getElementById("incentivoMessage"),d=(l&&l.addEventListener("submit",function(e){e.preventDefault();e=new FormData(l);fetch("/admin/projetos-culturais/saveIncentivo",{method:"POST",body:e}).then(e=>e.json()).then(e=>{e.success?(r.textContent=e.success,r.style.display="block",setTimeout(()=>{r.style.display="none",location.reload()},2e3)):(r.textContent=e.error||"Erro ao salvar os dados de incentivo.",r.style.display="block",setTimeout(()=>{r.style.display="none"},2e3))}).catch(e=>{console.error("Erro ao salvar os dados de incentivo:",e),r.textContent="Erro ao salvar os dados de incentivo.",r.style.display="block",setTimeout(()=>{r.style.display="none"},2e3)})}),document.getElementById("resultadosForm")),i=document.getElementById("resultadosMessage");d&&d.addEventListener("submit",function(e){e.preventDefault();e=new FormData(d);fetch("/admin/projetos-culturais/saveResultados",{method:"POST",body:e}).then(e=>e.json()).then(e=>{e.success?(i.textContent=e.success,i.style.display="block",setTimeout(()=>{i.style.display="none",location.reload()},2e3)):(i.textContent=e.error||"Erro ao salvar os resultados.",i.style.display="block",setTimeout(()=>{i.style.display="none"},2e3))}).catch(e=>{console.error("Erro ao salvar os resultados:",e),i.textContent="Erro ao salvar os resultados.",i.style.display="block",setTimeout(()=>{i.style.display="none"},2e3)})})});