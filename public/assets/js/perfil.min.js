function initializeProfileManagement(){let n=document.getElementById("profile-pic-preview"),a=document.getElementById("profile-pic-upload");var e=document.getElementById("upload-profile-pic"),t=document.getElementById("change-password-btn"),l=document.getElementById("add-admin-btn"),d=document.getElementById("add-email-btn"),m=document.getElementById("saveProfileBtn");let i=document.getElementById("admins-list"),o=document.getElementById("emails-list");e.addEventListener("click",()=>a.click()),a.addEventListener("change",()=>{var e,t=a.files[0];t&&t.type.startsWith("image/")&&((e=new FileReader).onload=e=>n.src=e.target.result,e.readAsDataURL(t))}),t.addEventListener("click",()=>{var e=document.getElementById("current-password").value,t=document.getElementById("new-password").value;t!==document.getElementById("confirm-password").value?alert("As senhas não coincidem!"):(console.log("Alterando senha:",{currentPassword:e,newPassword:t}),alert("Senha alterada com sucesso! (Simulação)"))}),l.addEventListener("click",()=>{var e,t,n=document.getElementById("new-admin-name").value,a=document.getElementById("new-admin-email").value;n&&a?(e=Date.now(),(t=document.createElement("div")).className="admin-item",t.dataset.id=e,t.innerHTML=`
                <span>${n} (${a})</span>
                <button class="remove-btn">Remover</button>
            `,i.appendChild(t),document.getElementById("new-admin-name").value="",document.getElementById("new-admin-email").value=""):alert("Preencha nome e e-mail!")}),d.addEventListener("click",()=>{var e,t,n=document.getElementById("new-email").value;n?(e=Date.now(),(t=document.createElement("div")).className="email-item",t.dataset.id=e,t.innerHTML=`
                <input type="email" value="${n}" class="email-input">
                <button class="remove-btn">Remover</button>
            `,o.appendChild(t),document.getElementById("new-email").value=""):alert("Preencha o e-mail!")}),[i,o].forEach(e=>{e.addEventListener("click",e=>{e.target.classList.contains("remove-btn")&&e.target.parentElement.remove()})}),m.addEventListener("click",()=>{var e={foto_perfil:n.src,senha:document.getElementById("new-password").value||void 0,admins:Array.from(i.children).map(e=>({id:e.dataset.id,nome:e.querySelector("span").textContent.split(" (")[0],email:e.querySelector("span").textContent.match(/\(([^)]+)\)/)[1]})),emails_empresa:Array.from(o.children).map(e=>({id:e.dataset.id,email:e.querySelector(".email-input").value})),nome_exibicao:document.getElementById("display-name").value};console.log("Perfil salvo:",e),alert("Perfil salvo com sucesso! (Simulação)")})}console.log("Script gerenciar-perfil.js carregado com sucesso!"),initializeProfileManagement();