function loadPostList(){window.mainContent?(document.getElementById("loading").style.display="block",fetch("/admin/posts",{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(t=>t.text()).then(t=>{window.mainContent.innerHTML=t,document.getElementById("loading").style.display="none"}).catch(t=>{console.error("Erro ao carregar a lista de posts:",t),window.mainContent.innerHTML="<p>Erro ao carregar a lista.</p>",document.getElementById("loading").style.display="none"})):console.error("Elemento #main-content não encontrado!")}function loadPostDetails(t){window.mainContent?(document.getElementById("loading").style.display="block",fetch("/admin/posts/"+t,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(t=>t.json()).then(t=>{window.mainContent.innerHTML=`
                <div class="post-details">
                    <img src="${t.image||"https://via.placeholder.com/800x300"}" alt="${t.titulo}">
                    <h2>${t.titulo}</h2>
                    <p class="date">Publicado em: ${t.created_at}</p>
                    <a href="/admin/posts" class="btn back-btn">Voltar à Lista</a>
                </div>
            `,document.getElementById("loading").style.display="none"}).catch(t=>{console.error("Erro ao carregar detalhes do post:",t),window.mainContent.innerHTML="<p>Erro ao carregar o post.</p>",document.getElementById("loading").style.display="none"})):console.error("Elemento #main-content não encontrado!")}function setupEventDelegation(){window.postsEventsSetup||(window.mainContent.addEventListener("click",t=>{var e=t.target.closest(".post-link"),n=t.target.closest(".back-btn");e?(t.preventDefault(),loadPostDetails(e.getAttribute("data-post-id"))):n&&(t.preventDefault(),loadPostList())}),window.postsEventsSetup=!0)}void 0===window.mainContent&&(window.mainContent=document.querySelector("#main-content")),window.postsInitialized||(window.mainContent?(setupEventDelegation(),window.postsInitialized=!0):console.error("Elemento #main-content não encontrado na inicialização!"));