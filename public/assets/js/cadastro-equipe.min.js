(()=>{var e;console.log("Script carregado em",(new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})),e=function(){console.log("DOM carregado em",(new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"}));let t=document.getElementById("pessoaForm"),a=document.getElementById("successMessage");var e=document.querySelectorAll(".card-header");0===e.length?console.error("Nenhum .card-header encontrado em",(new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})):console.log(`Encontrados ${e.length} card-headers em`,(new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})),e.forEach(o=>{let t=o.getAttribute("data-target"),a=document.getElementById(t);var e=o.querySelector(".toggle-button");let n=e.querySelector(".bi-chevron-down"),r=e.querySelector(".bi-chevron-up");a?(console.log(`Configurando toggle para #${t} em`,(new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})),console.log("Elementos:",{header:o,cardContent:a,toggleButton:e,chevronDown:n,chevronUp:r}),o.addEventListener("click",function(e){e.stopPropagation(),e.stopImmediatePropagation(),console.log(`Clicou no header para #${t} em`,(new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"}));e="block"===a.style.display;document.querySelectorAll(".card-content").forEach(e=>{e!==a&&"block"===e.style.display&&(e.style.display="none",(e=e.previousElementSibling).querySelector(".bi-chevron-up").style.display="none",e.querySelector(".bi-chevron-down").style.display="inline",e.setAttribute("data-expanded","false"))}),e?(a.style.display="none",r.style.display="none",n.style.display="inline",o.setAttribute("data-expanded","false"),console.log(`Estado de #${t} atualizado para false em`,(new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"}))):(a.style.display="block",n.style.display="none",r.style.display="inline",o.setAttribute("data-expanded","true"),console.log(`Estado de #${t} atualizado para true em`,(new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})))})):console.error(`Conteúdo do card #${t} não encontrado em`,(new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"}))}),t?t.addEventListener("submit",function(e){e.preventDefault();var e=new FormData(t),o=document.querySelector('input[name="_csrf_token"]').value;fetch("/admin/equipe/salvar",{method:"POST",body:e,headers:{"X-CSRF-Token":o}}).then(e=>e.json()).then(e=>{e.success?(a.textContent=e.success,a.style.display="block",t.reset(),setTimeout(()=>{a.style.display="none"},3e3)):alert(e.error||"Erro ao cadastrar pessoa.")}).catch(e=>{console.error("Erro:",e),alert("Erro ao cadastrar pessoa.")})}):console.error("Formulário pessoaForm não encontrado em",(new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"}))},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,0):document.addEventListener("DOMContentLoaded",e)})();