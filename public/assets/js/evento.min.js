document.addEventListener("DOMContentLoaded",()=>{let t=document.getElementById("eventForm");var e=document.getElementById("resetForm");let n=document.getElementById("formStatus");var d=document.querySelectorAll(".edit-btn");t.addEventListener("submit",e=>{e.preventDefault();e=new FormData(t),e=Object.fromEntries(e);fetch("/admin/events/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{n.textContent=e.message,e.success?setTimeout(()=>{location.reload()},1e3):setTimeout(()=>n.textContent="",3e3)})}),e.addEventListener("click",()=>{t.reset(),document.getElementById("eventId").value="",n.textContent=""}),d.forEach(t=>{t.addEventListener("click",()=>{var e=t.getAttribute("data-id");fetch("/admin/events/get/"+e).then(e=>e.json()).then(e=>{var t;e.success?(t=e.event,document.getElementById("eventId").value=t.id,document.getElementById("eventName").value=t.name,document.getElementById("eventDate").value=t.date,document.getElementById("eventLocation").value=t.location,document.getElementById("eventDescription").value=t.description,document.getElementById("eventType").value=t.type,document.getElementById("eventTarget").value=t.target_audience):(n.textContent=e.message,setTimeout(()=>n.textContent="",3e3))})})})});